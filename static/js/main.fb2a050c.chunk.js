(this["webpackJsonpshopify-challenge"]=this["webpackJsonpshopify-challenge"]||[]).push([[0],{28:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n(1),a=n.n(s),o=n(15),c=n.n(o),l=(n(28),n(6)),h=n(16),r=n(17),d=n(4),m=n(22),u=n(21),b=n(18),j=n.n(b),v=n(19),O=n.n(v),f=n(20),g=n.n(f),x=(n(72),function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,e)).state={value:"",movies:[],isLoading:!1,searched:!1,nominations:[],banner3Css:{color:"#FFF",backgroundColor:"red",fontSize:20}},i.handleChange=i.handleChange.bind(Object(d.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(d.a)(i)),i.handleNomination=i.handleNomination.bind(Object(d.a)(i)),i.handleRemoveNomination=i.handleRemoveNomination.bind(Object(d.a)(i)),i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("nominations");e?this.setState({nominations:JSON.parse(e)}):this.setState({nominations:[]})}},{key:"handleNomination",value:function(e){var t=this;this.setState({nominations:[].concat(Object(l.a)(this.state.nominations),[e])},(function(){window.localStorage.setItem("nominations",JSON.stringify(t.state.nominations))}))}},{key:"handleRemoveNomination",value:function(e){var t=this;this.setState({nominations:this.state.nominations.filter((function(t){return t!==e}))},(function(){window.localStorage.setItem("nominations",JSON.stringify(t.state.nominations))}))}},{key:"handleChange",value:function(e){this.setState(Object.assign({},this.state,{value:e.target.value}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState(Object.assign({},this.state,{isLoading:!0,movies:[],searched:!0})),this.setState({isLoading:!0}),j.a.get("https://www.omdbapi.com/?s=".concat(this.state.value,"&page=",2,"&type=movie&apikey=").concat("5380268b")).then((function(e){return t.setState({isLoading:!1}),e.data})).then((function(e){e.Search?t.setState({movies:[].concat(Object(l.a)(t.state.movies),[e.Search])}):t.setState({movies:[]})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(i.jsxs)("div",{className:"main",children:[Object(i.jsxs)("div",{className:"titles",children:[Object(i.jsx)("h1",{className:"title",children:"Movie finder"}),Object(i.jsx)("h2",{className:"subtitle",children:"Find your next favourite movie :)"})]}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsxs)("div",{className:"searchbox",children:[Object(i.jsx)("input",{className:"input",type:"text",placeholder:"Search movies",value:this.state.value,onChange:this.handleChange}),Object(i.jsx)("button",{className:"button is-info",onClick:this.handleSubmit,children:Object(i.jsx)("i",{class:"fa fa-search"})})]}),Object(i.jsxs)("div",{className:"content",children:[Object(i.jsxs)("div",{className:"search-results",children:[this.state.movies.length>0?Object(i.jsxs)("h3",{className:"title",children:['Search result for "',this.state.value,'"']}):"",Object(i.jsx)("ul",{children:this.state.movies.length>0?this.state.movies[0].map((function(t){return Object(i.jsxs)("div",{className:"field",children:[Object(i.jsxs)("li",{children:[t.Title,"(",t.Year,")",Object(i.jsx)("br",{})]},t),Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){return e.handleNomination(t)},disabled:e.state.nominations.includes(t),children:"Nominate"})]})})):this.state.isLoading?Object(i.jsx)(g.a,{type:"Oval",color:"#f4343f",height:"100",width:"100"}):Object(i.jsx)("p",{className:"p",children:"Couldn't find any movie. Please search again using another search criteria."})})]}),Object(i.jsxs)("div",{className:"nominations",children:[Object(i.jsx)("h3",{className:"title",children:"Your Nominations"}),this.state.nominations.length>=5?Object(i.jsx)(O.a,{title:"You reached 5 nominations.",css:this.state.banner3Css,visibleTime:3e3}):null,Object(i.jsx)("ul",{children:this.state.nominations.length>0?this.state.nominations.map((function(t){return Object(i.jsxs)("div",{className:"field",children:[Object(i.jsxs)("li",{children:[t.Title,"(",t.Year,")",Object(i.jsx)("br",{})]},t),Object(i.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.handleRemoveNomination(t)},children:"Remove"})]})})):Object(i.jsx)("p",{children:"Please nominate a movie to see a list of your nominations."})})]})]})]})]})}}]),n}(s.Component)),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),a(e),o(e)}))};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root")),N()}},[[73,1,2]]]);
//# sourceMappingURL=main.fb2a050c.chunk.js.map